import{r as h,u as f,j as a,a as g,b as v,l as j,s as x}from"./index-B9caPZeR.js";function u(s){var l,t,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var n=s.length;for(l=0;l<n;l++)s[l]&&(t=u(s[l]))&&(r&&(r+=" "),r+=t)}else for(t in s)s[t]&&(r&&(r+=" "),r+=t);return r}function b(){for(var s,l,t=0,r="",n=arguments.length;t<n;t++)(s=arguments[t])&&(l=u(s))&&(r&&(r+=" "),r+=l);return r}const y={online:"bg-slot-online text-white",offline:"bg-slot-offline text-white",mix:"bg-slot-mix text-white",blocked:"bg-slot-blocked text-white",available:"bg-slot-available text-gray-800"},N=({name:s,avatar:l,slots:t,onViewCalendar:r})=>(f(),a.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm flex gap-4 w-full overflow-x-auto",children:[a.jsx("img",{src:l,className:"w-12 h-12 rounded-full shrink-0",alt:s}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("button",{onClick:r,className:"text-primary-600 font-semibold text-left hover:underline",children:s}),a.jsx("div",{className:"flex gap-2",children:t.map(n=>a.jsx("span",{className:b("text-xs px-2 py-1 rounded-md whitespace-nowrap",y[n.status]),children:n.time},n.time))})]})]})),w=h.memo(N),C=["","Physio","Counselling"],P=["","Full‑time","Part‑time"],A=["","Delhi","Mumbai","Remote"],L=()=>{const s=g(),{list:l,filters:t,loading:r}=v(e=>e.providers);h.useEffect(()=>{s(j())},[s]);const n=e=>{s(x({[e.target.name]:e.target.value}))},p=e=>{const{service:o,type:c,centre:d,search:m}=t;return(!o||e.services.includes(o))&&(!c||e.type===c)&&(!d||e.centre===d)&&(!m||e.name.toLowerCase().includes(m.toLowerCase()))},i=l.filter(p).slice(0,5);return a.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Provider Calendar"}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[a.jsx("select",{name:"service",value:t.service,onChange:n,className:"p-2 border rounded",children:C.map(e=>a.jsx("option",{value:e,children:e||"All services"},e))}),a.jsx("select",{name:"type",value:t.type,onChange:n,className:"p-2 border rounded",children:P.map(e=>a.jsx("option",{value:e,children:e||"All types"},e))}),a.jsx("select",{name:"centre",value:t.centre,onChange:n,className:"p-2 border rounded",children:A.map(e=>a.jsx("option",{value:e,children:e||"All centres"},e))}),a.jsx("input",{name:"search",placeholder:"Search provider",value:t.search,onChange:e=>s(x({search:e.target.value})),className:"p-2 border rounded"})]}),r?a.jsx("p",{className:"animate-pulse text-gray-500",children:"Loading…"}):a.jsxs("div",{className:"flex flex-col gap-4",children:[i.map(e=>a.jsx(w,{name:e.name,avatar:e.avatar,slots:e.slots,onViewCalendar:()=>alert("Open detailed calendar for "+e.name)},e.id)),i.length===0&&a.jsx("p",{children:"No providers match the filters."})]})]})};export{L as default};
